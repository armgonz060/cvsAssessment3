
import SwiftUI

fileprivate enum Constants {
    static let testResult = FlickrResult(title: "Recent Uploads tagged porcupine", link: "https://www.flickr.com/photos/tags/porcupine/", description: "", modified: "2025-02-09T22:22:39Z", generator: "https://www.flickr.com", items: [FlickrAssessment.FlickrItem(authorId: "124191108@N08", title: "Cincinnati Zoo 2-9-25-00335", link: "https://www.flickr.com/photos/djjamphoto/54317663249/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54317663249_c7ec24cbdb_m.jpg"), dateTaken: "2025-02-09T16:14:22-08:00", description: " <p><a href=\"https://www.flickr.com/people/djjamphoto/\">joemastrullo</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/djjamphoto/54317663249/\" title=\"Cincinnati Zoo 2-9-25-00335\"><img src=\"https://live.staticflickr.com/65535/54317663249_c7ec24cbdb_m.jpg\" width=\"240\" height=\"160\" alt=\"Cincinnati Zoo 2-9-25-00335\" /></a></p> <p>Rico - Brazilian Porcupine</p> ", published: "2025-02-09T22:22:39Z", author: "nobody@flickr.com (\"joemastrullo\")", tags: "cincinnati zoo botanical garden rico brazilian porcupine"), FlickrAssessment.FlickrItem(authorId: "124191108@N08", title: "Cincinnati Zoo 2-9-25-00389", link: "https://www.flickr.com/photos/djjamphoto/54316540847/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54316540847_272cbaa2db_m.jpg"), dateTaken: "2025-02-09T16:20:01-08:00", description: " <p><a href=\"https://www.flickr.com/people/djjamphoto/\">joemastrullo</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/djjamphoto/54316540847/\" title=\"Cincinnati Zoo 2-9-25-00389\"><img src=\"https://live.staticflickr.com/65535/54316540847_272cbaa2db_m.jpg\" width=\"240\" height=\"160\" alt=\"Cincinnati Zoo 2-9-25-00389\" /></a></p> <p>Rico - Brazilian Porcupine</p> ", published: "2025-02-09T22:22:42Z", author: "nobody@flickr.com (\"joemastrullo\")", tags: "cincinnati zoo botanical garden rico brazilian porcupine"), FlickrAssessment.FlickrItem(authorId: "124191108@N08", title: "Cincinnati Zoo 2-9-25-00377", link: "https://www.flickr.com/photos/djjamphoto/54317667178/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54317667178_d30f48e1dc_m.jpg"), dateTaken: "2025-02-09T16:19:58-08:00", description: " <p><a href=\"https://www.flickr.com/people/djjamphoto/\">joemastrullo</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/djjamphoto/54317667178/\" title=\"Cincinnati Zoo 2-9-25-00377\"><img src=\"https://live.staticflickr.com/65535/54317667178_d30f48e1dc_m.jpg\" width=\"240\" height=\"160\" alt=\"Cincinnati Zoo 2-9-25-00377\" /></a></p> <p>Rico - Brazilian Porcupine</p> ", published: "2025-02-09T22:22:41Z", author: "nobody@flickr.com (\"joemastrullo\")", tags: "cincinnati zoo botanical garden rico brazilian porcupine"), FlickrAssessment.FlickrItem(authorId: "124191108@N08", title: "Cincinnati Zoo 2-9-25-00356", link: "https://www.flickr.com/photos/djjamphoto/54317850755/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54317850755_3b482c4827_m.jpg"), dateTaken: "2025-02-09T16:15:31-08:00", description: " <p><a href=\"https://www.flickr.com/people/djjamphoto/\">joemastrullo</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/djjamphoto/54317850755/\" title=\"Cincinnati Zoo 2-9-25-00356\"><img src=\"https://live.staticflickr.com/65535/54317850755_3b482c4827_m.jpg\" width=\"240\" height=\"160\" alt=\"Cincinnati Zoo 2-9-25-00356\" /></a></p> <p>Rico - Brazilian Porcupine</p> ", published: "2025-02-09T22:22:40Z", author: "nobody@flickr.com (\"joemastrullo\")", tags: "cincinnati zoo botanical garden rico brazilian porcupine"), FlickrAssessment.FlickrItem(authorId: "124191108@N08", title: "Cincinnati Zoo 2-9-25-00351", link: "https://www.flickr.com/photos/djjamphoto/54316540907/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54316540907_683a228550_m.jpg"), dateTaken: "2025-02-09T16:15:12-08:00", description: " <p><a href=\"https://www.flickr.com/people/djjamphoto/\">joemastrullo</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/djjamphoto/54316540907/\" title=\"Cincinnati Zoo 2-9-25-00351\"><img src=\"https://live.staticflickr.com/65535/54316540907_683a228550_m.jpg\" width=\"240\" height=\"160\" alt=\"Cincinnati Zoo 2-9-25-00351\" /></a></p> <p>Rico - Brazilian Porcupine</p> ", published: "2025-02-09T22:22:40Z", author: "nobody@flickr.com (\"joemastrullo\")", tags: "cincinnati zoo botanical garden rico brazilian porcupine"), FlickrAssessment.FlickrItem(authorId: "124191108@N08", title: "Cincinnati Zoo 2-9-25-00300", link: "https://www.flickr.com/photos/djjamphoto/54317663314/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54317663314_9bb26bb60e_m.jpg"), dateTaken: "2025-02-09T16:11:29-08:00", description: " <p><a href=\"https://www.flickr.com/people/djjamphoto/\">joemastrullo</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/djjamphoto/54317663314/\" title=\"Cincinnati Zoo 2-9-25-00300\"><img src=\"https://live.staticflickr.com/65535/54317663314_9bb26bb60e_m.jpg\" width=\"240\" height=\"160\" alt=\"Cincinnati Zoo 2-9-25-00300\" /></a></p> <p>Rico - Brazilian Porcupine</p> ", published: "2025-02-09T22:22:37Z", author: "nobody@flickr.com (\"joemastrullo\")", tags: "cincinnati zoo botanical garden rico brazilian porcupine"), FlickrAssessment.FlickrItem(authorId: "124191108@N08", title: "Cincinnati Zoo 2-9-25-00322", link: "https://www.flickr.com/photos/djjamphoto/54316541062/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54316541062_1e73a52cb9_m.jpg"), dateTaken: "2025-02-09T16:14:10-08:00", description: " <p><a href=\"https://www.flickr.com/people/djjamphoto/\">joemastrullo</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/djjamphoto/54316541062/\" title=\"Cincinnati Zoo 2-9-25-00322\"><img src=\"https://live.staticflickr.com/65535/54316541062_1e73a52cb9_m.jpg\" width=\"160\" height=\"240\" alt=\"Cincinnati Zoo 2-9-25-00322\" /></a></p> <p>Rico - Brazilian Porcupine</p> ", published: "2025-02-09T22:22:38Z", author: "nobody@flickr.com (\"joemastrullo\")", tags: "cincinnati zoo botanical garden rico brazilian porcupine"), FlickrAssessment.FlickrItem(authorId: "124191108@N08", title: "Cincinnati Zoo 2-9-25-00282", link: "https://www.flickr.com/photos/djjamphoto/54317432786/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54317432786_d3dbaeb5a9_m.jpg"), dateTaken: "2025-02-09T16:10:42-08:00", description: " <p><a href=\"https://www.flickr.com/people/djjamphoto/\">joemastrullo</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/djjamphoto/54317432786/\" title=\"Cincinnati Zoo 2-9-25-00282\"><img src=\"https://live.staticflickr.com/65535/54317432786_d3dbaeb5a9_m.jpg\" width=\"160\" height=\"240\" alt=\"Cincinnati Zoo 2-9-25-00282\" /></a></p> <p>Rico - Brazilian Porcupine</p> ", published: "2025-02-09T22:22:37Z", author: "nobody@flickr.com (\"joemastrullo\")", tags: "cincinnati zoo botanical garden rico brazilian porcupine"), FlickrAssessment.FlickrItem(authorId: "124191108@N08", title: "Cincinnati Zoo 2-9-25-00324", link: "https://www.flickr.com/photos/djjamphoto/54317667343/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54317667343_827ec4f5eb_m.jpg"), dateTaken: "2025-02-09T16:14:13-08:00", description: " <p><a href=\"https://www.flickr.com/people/djjamphoto/\">joemastrullo</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/djjamphoto/54317667343/\" title=\"Cincinnati Zoo 2-9-25-00324\"><img src=\"https://live.staticflickr.com/65535/54317667343_827ec4f5eb_m.jpg\" width=\"240\" height=\"240\" alt=\"Cincinnati Zoo 2-9-25-00324\" /></a></p> <p>Rico - Brazilian Porcupine</p> ", published: "2025-02-09T22:22:38Z", author: "nobody@flickr.com (\"joemastrullo\")", tags: "cincinnati zoo botanical garden rico brazilian porcupine"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_2907", link: "https://www.flickr.com/photos/crobart/54309724292/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54309724292_e4f8c6b346_m.jpg"), dateTaken: "2025-02-02T11:23:30-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54309724292/\" title=\"AAL_2907\"><img src=\"https://live.staticflickr.com/65535/54309724292_e4f8c6b346_m.jpg\" width=\"240\" height=\"160\" alt=\"AAL_2907\" /></a></p> ", published: "2025-02-06T15:53:48Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_2920", link: "https://www.flickr.com/photos/crobart/54309724412/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54309724412_86b5f10484_m.jpg"), dateTaken: "2025-02-02T11:23:59-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54309724412/\" title=\"AAL_2920\"><img src=\"https://live.staticflickr.com/65535/54309724412_86b5f10484_m.jpg\" width=\"160\" height=\"240\" alt=\"AAL_2920\" /></a></p> ", published: "2025-02-06T15:53:46Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_2885", link: "https://www.flickr.com/photos/crobart/54311025525/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54311025525_630dd2e6e8_m.jpg"), dateTaken: "2025-02-02T11:23:13-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54311025525/\" title=\"AAL_2885\"><img src=\"https://live.staticflickr.com/65535/54311025525_630dd2e6e8_m.jpg\" width=\"240\" height=\"160\" alt=\"AAL_2885\" /></a></p> ", published: "2025-02-06T15:53:48Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_2913", link: "https://www.flickr.com/photos/crobart/54310602281/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54310602281_b0a16988c2_m.jpg"), dateTaken: "2025-02-02T11:23:49-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54310602281/\" title=\"AAL_2913\"><img src=\"https://live.staticflickr.com/65535/54310602281_b0a16988c2_m.jpg\" width=\"160\" height=\"240\" alt=\"AAL_2913\" /></a></p> ", published: "2025-02-06T15:53:47Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_3980", link: "https://www.flickr.com/photos/crobart/54310845468/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54310845468_5a72d27920_m.jpg"), dateTaken: "2025-02-02T13:30:15-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54310845468/\" title=\"AAL_3980\"><img src=\"https://live.staticflickr.com/65535/54310845468_5a72d27920_m.jpg\" width=\"160\" height=\"240\" alt=\"AAL_3980\" /></a></p> ", published: "2025-02-06T15:53:45Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_2917", link: "https://www.flickr.com/photos/crobart/54309724297/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54309724297_ca76aa8748_m.jpg"), dateTaken: "2025-02-02T11:23:51-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54309724297/\" title=\"AAL_2917\"><img src=\"https://live.staticflickr.com/65535/54309724297_ca76aa8748_m.jpg\" width=\"240\" height=\"160\" alt=\"AAL_2917\" /></a></p> ", published: "2025-02-06T15:53:47Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_2892", link: "https://www.flickr.com/photos/crobart/54310601921/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54310601921_c888aabe12_m.jpg"), dateTaken: "2025-02-02T11:23:20-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54310601921/\" title=\"AAL_2892\"><img src=\"https://live.staticflickr.com/65535/54310601921_c888aabe12_m.jpg\" width=\"240\" height=\"160\" alt=\"AAL_2892\" /></a></p> ", published: "2025-02-06T15:53:48Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_3986", link: "https://www.flickr.com/photos/crobart/54310830294/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54310830294_cf9f079c4c_m.jpg"), dateTaken: "2025-02-02T13:30:42-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54310830294/\" title=\"AAL_3986\"><img src=\"https://live.staticflickr.com/65535/54310830294_cf9f079c4c_m.jpg\" width=\"160\" height=\"240\" alt=\"AAL_3986\" /></a></p> ", published: "2025-02-06T15:53:45Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_3992", link: "https://www.flickr.com/photos/crobart/54310831044/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54310831044_b093b34f76_m.jpg"), dateTaken: "2025-02-02T13:31:43-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54310831044/\" title=\"AAL_3992\"><img src=\"https://live.staticflickr.com/65535/54310831044_b093b34f76_m.jpg\" width=\"240\" height=\"160\" alt=\"AAL_3992\" /></a></p> ", published: "2025-02-06T15:53:44Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_3994", link: "https://www.flickr.com/photos/crobart/54309722567/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54309722567_e9bcc9e432_m.jpg"), dateTaken: "2025-02-02T13:31:48-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54309722567/\" title=\"AAL_3994\"><img src=\"https://live.staticflickr.com/65535/54309722567_e9bcc9e432_m.jpg\" width=\"240\" height=\"160\" alt=\"AAL_3994\" /></a></p> ", published: "2025-02-06T15:53:44Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival"), FlickrAssessment.FlickrItem(authorId: "7374177@N03", title: "AAL_3989", link: "https://www.flickr.com/photos/crobart/54311024030/", media: FlickrAssessment.FlickrMedia(imageString: "https://live.staticflickr.com/65535/54311024030_a687e6b240_m.jpg"), dateTaken: "2025-02-02T13:31:15-08:00", description: " <p><a href=\"https://www.flickr.com/people/crobart/\">crobart</a> posted a photo:</p> <p><a href=\"https://www.flickr.com/photos/crobart/54311024030/\" title=\"AAL_3989\"><img src=\"https://live.staticflickr.com/65535/54311024030_a687e6b240_m.jpg\" width=\"240\" height=\"160\" alt=\"AAL_3989\" /></a></p> ", published: "2025-02-06T15:53:44Z", author: "nobody@flickr.com (\"crobart\")", tags: "porcupine speaking wildlife 2025 richmond hill winter carnival mill pond festival")])
}

class FlickrResultViewModel: ObservableObject {
    @Published var flickrResultItems: [FlickrItem] = []
    @Published var isLoading = false
    
    var testResult: FlickrResult {
        Constants.testResult
    }
    
    private var flickrResult: FlickrResult {
        didSet {
            self.flickrResultItems = self.flickrResult.items
        }
    }
    
    init() {
        self.flickrResult = .init()
    }
    
    func searchFlickr(for query: String) async {
        do {
            let result: FlickrResult = try await NetworkManager.shared.load(tags: query)
            DispatchQueue.main.async { [unowned self] in
                self.flickrResult = result
            }
        } catch {
            print("Error fetching data: \(error.localizedDescription)")
        }
    }
}
